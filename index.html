<!DOCTYPE html>
<html lang="en" id="html-root">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Generate random user data for testing and development. Free random user generator API tool with customizable options.">
    <meta name="keywords" content="random user generator, fake user data, testing data, development tools, API testing">
    <meta property="og:title" content="Random User Generator - Free Testing Data Tool">
    <meta property="og:description" content="Generate realistic random user data for your development and testing needs. Fast, free, and easy to use.">
    <meta property="og:url" content="https://randomusertools.com">
    <meta property="og:type" content="website">
    
    <title>Random User Generator - Free Testing Data Tool | RandomUserTools.com</title>
    
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-XXXXXXXXXXXXXXXX"
     crossorigin="anonymous"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
            color: white;
            position: relative;
        }
        
        .language-selector {
            position: absolute;
            top: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 8px;
            backdrop-filter: blur(10px);
        }
        
        .language-selector select {
            background: transparent;
            border: none;
            color: white;
            font-weight: 600;
            cursor: pointer;
            padding: 5px;
            outline: none;
        }
        
        .language-selector select option {
            background: #667eea;
            color: white;
        }
        
        .header h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        
        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .main-card {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        
        .controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .control-group {
            display: flex;
            flex-direction: column;
        }
        
        .control-group label {
            font-weight: 600;
            margin-bottom: 8px;
            color: #555;
        }
        
        .control-group select,
        .control-group input {
            padding: 12px;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }
        
        .control-group select:focus,
        .control-group input:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .field-selector {
            background: #f8f9fa;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            padding: 15px;
            margin-top: 8px;
        }
        
        .field-item {
            display: flex;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #e9ecef;
        }
        
        .field-item:last-child {
            border-bottom: none;
        }
        
        .field-item input[type="checkbox"] {
            width: 18px;
            height: 18px;
            margin-right: 12px;
            accent-color: #667eea;
            cursor: pointer;
        }
        
        .field-item label {
            font-weight: 400;
            color: #333;
            cursor: pointer;
            flex: 1;
            margin-bottom: 0;
        }
        
        .field-item:hover {
            background-color: rgba(102, 126, 234, 0.05);
            border-radius: 6px;
            margin: 0 -8px;
            padding: 8px 8px;
        }
        
        .generate-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 18px;
            font-weight: 600;
            border-radius: 50px;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            display: block;
            margin: 0 auto 30px;
        }
        
        .generate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
        }
        
        .generate-btn:active {
            transform: translateY(0);
        }
        
        .loading {
            opacity: 0.7;
            pointer-events: none;
        }
        
        .results {
            display: none;
        }
        
        .user-card {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            border-left: 5px solid #667eea;
            transition: transform 0.2s ease;
        }
        
        .user-card:hover {
            transform: translateX(5px);
        }
        
        .user-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .user-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            margin-right: 20px;
            border: 3px solid #667eea;
        }
        
        .user-name {
            font-size: 1.5rem;
            font-weight: 700;
            color: #333;
            margin-bottom: 5px;
        }
        
        .user-email {
            color: #667eea;
            font-size: 1.1rem;
        }
        
        .user-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }
        
        .detail-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #e1e5e9;
        }
        
        .detail-label {
            font-weight: 600;
            color: #555;
        }
        
        .detail-value {
            color: #333;
            text-align: right;
        }
        
        .export-section {
            text-align: center;
            margin-top: 30px;
            padding-top: 30px;
            border-top: 2px solid #e1e5e9;
        }
        
        .export-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 12px 25px;
            margin: 0 10px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: background 0.3s ease;
        }
        
        .export-btn:hover {
            background: #218838;
        }
        
        .ad-container {
            margin: 30px auto;
            text-align: center;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #e1e5e9;
        }
        
        .ad-label {
            font-size: 12px;
            color: #666;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .ad-container ins {
            margin: 0 auto;
        }
        
        .footer {
            text-align: center;
            color: white;
            padding: 40px 20px;
            opacity: 0.9;
        }
        
        .footer a {
            color: white;
            text-decoration: none;
            font-weight: 600;
        }
        
        .footer a:hover {
            text-decoration: underline;
        }
        
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .main-card {
                padding: 20px;
                margin: 0 10px 20px;
            }
            
            .controls {
                grid-template-columns: 1fr;
            }
            
            .field-selector {
                padding: 12px;
            }
            
            .field-item {
                padding: 10px 0;
            }
            
            .field-item input[type="checkbox"] {
                width: 20px;
                height: 20px;
                margin-right: 15px;
            }
            
            .field-item label {
                font-size: 16px;
            }
            
            .user-header {
                flex-direction: column;
                text-align: center;
            }
            
            .user-avatar {
                margin-right: 0;
                margin-bottom: 15px;
            }
            
            .user-details {
                grid-template-columns: 1fr;
            }
            
            .detail-item {
                flex-direction: column;
                text-align: left;
            }
            
            .detail-value {
                text-align: left;
                margin-top: 5px;
            }
            
            .language-selector {
                position: static;
                margin-bottom: 20px;
                display: inline-block;
            }
        }
        
        .error {
            background: #f8d7da;
            color: #721c24;
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            border: 1px solid #f5c6cb;
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="language-selector">
                <select id="language-select" onchange="changeLanguage()">
                    <option value="en">ğŸ‡ºğŸ‡¸ English</option>
                    <option value="zh">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</option>
                    <option value="es">ğŸ‡ªğŸ‡¸ EspaÃ±ol</option>
                    <option value="fr">ğŸ‡«ğŸ‡· FranÃ§ais</option>
                    <option value="de">ğŸ‡©ğŸ‡ª Deutsch</option>
                    <option value="ja">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</option>
                    <option value="ko">ğŸ‡°ğŸ‡· í•œêµ­ì–´</option>
                    <option value="pt">ğŸ‡§ğŸ‡· PortuguÃªs</option>
                    <option value="ru">ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
                    <option value="ar">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
                </select>
            </div>
            <h1 data-translate="title">Random User Generator</h1>
            <p data-translate="subtitle">Generate realistic user data for testing and development</p>
        </header>
        
        <!-- Top Banner Ad -->
        <div class="ad-container">
            <div class="ad-label" data-translate="advertisement">Advertisement</div>
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-XXXXXXXXXXXXXXXX"
                 data-ad-slot="1234567890"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
        </div>
        
        <main class="main-card">
            <div class="controls">
                <div class="control-group">
                    <label for="results-count" data-translate="numberOfUsers">Number of Users</label>
                    <input type="number" id="results-count" min="1" max="50" value="5">
                </div>
                
                <div class="control-group">
                    <label for="gender" data-translate="gender">Gender</label>
                    <select id="gender">
                        <option value="" data-translate="random">Random</option>
                        <option value="male" data-translate="male">Male</option>
                        <option value="female" data-translate="female">Female</option>
                    </select>
                </div>
                
                <div class="control-group">
                    <label for="nationality" data-translate="nationality">Nationality</label>
                    <select id="nationality">
                        <option value="" data-translate="random">Random</option>
                        <option value="AU">Australia</option>
                        <option value="BR">Brazil</option>
                        <option value="CA">Canada</option>
                        <option value="CH">Switzerland</option>
                        <option value="DE">Germany</option>
                        <option value="DK">Denmark</option>
                        <option value="ES">Spain</option>
                        <option value="FI">Finland</option>
                        <option value="FR">France</option>
                        <option value="GB">Great Britain</option>
                        <option value="IE">Ireland</option>
                        <option value="IN">India</option>
                        <option value="IR">Iran</option>
                        <option value="MX">Mexico</option>
                        <option value="NL">Netherlands</option>
                        <option value="NO">Norway</option>
                        <option value="NZ">New Zealand</option>
                        <option value="RS">Serbia</option>
                        <option value="TR">Turkey</option>
                        <option value="UA">Ukraine</option>
                        <option value="US">United States</option>
                    </select>
                </div>
                
                <div class="control-group">
                    <label data-translate="includeFields">Include Fields</label>
                    <div class="field-selector">
                        <div class="field-item">
                            <input type="checkbox" id="field-name" checked>
                            <label for="field-name" data-translate="name">Name</label>
                        </div>
                        <div class="field-item">
                            <input type="checkbox" id="field-email" checked>
                            <label for="field-email" data-translate="email">Email</label>
                        </div>
                        <div class="field-item">
                            <input type="checkbox" id="field-phone" checked>
                            <label for="field-phone" data-translate="phone">Phone</label>
                        </div>
                        <div class="field-item">
                            <input type="checkbox" id="field-location" checked>
                            <label for="field-location" data-translate="location">Location</label>
                        </div>
                        <div class="field-item">
                            <input type="checkbox" id="field-picture" checked>
                            <label for="field-picture" data-translate="picture">Picture</label>
                        </div>
                        <div class="field-item">
                            <input type="checkbox" id="field-dob" checked>
                            <label for="field-dob" data-translate="dateOfBirth">Date of Birth</label>
                        </div>
                        <div class="field-item">
                            <input type="checkbox" id="field-login">
                            <label for="field-login" data-translate="loginInfo">Login Info</label>
                        </div>
                        <div class="field-item">
                            <input type="checkbox" id="field-id">
                            <label for="field-id" data-translate="idNumbers">ID Numbers</label>
                        </div>
                    </div>
                </div>
            </div>
            
            <button class="generate-btn" onclick="generateUsers()" data-translate="generateUsers">Generate Random Users</button>
            
            <div id="results" class="results">
                <!-- Middle Ad -->
                <div class="ad-container">
                    <div class="ad-label" data-translate="advertisement">Advertisement</div>
                    <ins class="adsbygoogle"
                         style="display:block"
                         data-ad-client="ca-pub-XXXXXXXXXXXXXXXX"
                         data-ad-slot="0987654321"
                         data-ad-format="auto"
                         data-full-width-responsive="true"></ins>
                </div>
                
                <div class="export-section">
                    <button class="export-btn" onclick="exportJSON()" data-translate="exportJSON">Export as JSON</button>
                    <button class="export-btn" onclick="exportCSV()" data-translate="exportCSV">Export as CSV</button>
                </div>
                <div id="users-container"></div>
            </div>
        </main>
        
        <!-- Bottom Ad -->
        <div class="ad-container">
            <div class="ad-label" data-translate="advertisement">Advertisement</div>
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-XXXXXXXXXXXXXXXX"
                 data-ad-slot="1357913579"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
        </div>
    </div>
    
    <footer class="footer">
        <p data-translate="footerCopyright">&copy; 2025 RandomUserTools.com | Powered by <a href="https://randomuser.me" target="_blank">RandomUser.me API</a></p>
        <p data-translate="footerDescription">Free random user data generator for developers and testers</p>
    </footer>
    
    <script>
        // å¤šè¯­è¨€ç¿»è¯‘å¯¹è±¡
        const translations = {
            en: {
                title: "Random User Generator",
                subtitle: "Generate realistic user data for testing and development",
                numberOfUsers: "Number of Users",
                gender: "Gender",
                nationality: "Nationality",
                includeFields: "Include Fields",
                name: "Name",
                email: "Email",
                phone: "Phone",
                location: "Location",
                picture: "Picture",
                dateOfBirth: "Date of Birth",
                loginInfo: "Login Info",
                idNumbers: "ID Numbers",
                random: "Random",
                male: "Male",
                female: "Female",
                generateUsers: "Generate Random Users",
                generating: "Generating...",
                exportJSON: "Export as JSON",
                exportCSV: "Export as CSV",
                advertisement: "Advertisement",
                footerCopyright: "&copy; 2025 RandomUserTools.com | Powered by <a href='https://randomuser.me' target='_blank'>RandomUser.me API</a>",
                footerDescription: "Free random user data generator for developers and testers",
                // ç”¨æˆ·ä¿¡æ¯æ ‡ç­¾
                phoneLabel: "Phone:",
                cellLabel: "Cell:",
                dobLabel: "Date of Birth:",
                ageLabel: "Age:",
                addressLabel: "Address:",
                usernameLabel: "Username:",
                nationalityLabel: "Nationality:",
                errorGenerate: "Error generating users:"
            },
            zh: {
                title: "éšæœºç”¨æˆ·ç”Ÿæˆå™¨",
                subtitle: "ä¸ºæµ‹è¯•å’Œå¼€å‘ç”ŸæˆçœŸå®çš„ç”¨æˆ·æ•°æ®",
                numberOfUsers: "ç”¨æˆ·æ•°é‡",
                gender: "æ€§åˆ«",
                nationality: "å›½ç±",
                includeFields: "åŒ…å«å­—æ®µ",
                name: "å§“å",
                email: "é‚®ç®±",
                phone: "ç”µè¯",
                location: "ä½ç½®",
                picture: "å¤´åƒ",
                dateOfBirth: "å‡ºç”Ÿæ—¥æœŸ",
                loginInfo: "ç™»å½•ä¿¡æ¯",
                idNumbers: "è¯ä»¶å·ç ",
                random: "éšæœº",
                male: "ç”·æ€§",
                female: "å¥³æ€§",
                generateUsers: "ç”Ÿæˆéšæœºç”¨æˆ·",
                generating: "ç”Ÿæˆä¸­...",
                exportJSON: "å¯¼å‡ºä¸º JSON",
                exportCSV: "å¯¼å‡ºä¸º CSV",
                advertisement: "å¹¿å‘Š",
                footerCopyright: "&copy; 2025 RandomUserTools.com | åŸºäº <a href='https://randomuser.me' target='_blank'>RandomUser.me API</a>",
                footerDescription: "ä¸ºå¼€å‘è€…å’Œæµ‹è¯•äººå‘˜æä¾›çš„å…è´¹éšæœºç”¨æˆ·æ•°æ®ç”Ÿæˆå™¨",
                phoneLabel: "ç”µè¯ï¼š",
                cellLabel: "æ‰‹æœºï¼š",
                dobLabel: "å‡ºç”Ÿæ—¥æœŸï¼š",
                ageLabel: "å¹´é¾„ï¼š",
                addressLabel: "åœ°å€ï¼š",
                usernameLabel: "ç”¨æˆ·åï¼š",
                nationalityLabel: "å›½ç±ï¼š",
                errorGenerate: "ç”Ÿæˆç”¨æˆ·æ—¶å‡ºé”™ï¼š"
            },
            es: {
                title: "Generador de Usuarios Aleatorios",
                subtitle: "Genera datos de usuarios realistas para pruebas y desarrollo",
                numberOfUsers: "NÃºmero de Usuarios",
                gender: "GÃ©nero",
                nationality: "Nacionalidad",
                includeFields: "Incluir Campos",
                name: "Nombre",
                email: "Email",
                phone: "TelÃ©fono",
                location: "UbicaciÃ³n",
                picture: "Imagen",
                dateOfBirth: "Fecha de Nacimiento",
                loginInfo: "Info de Login",
                idNumbers: "NÃºmeros de ID",
                random: "Aleatorio",
                male: "Masculino",
                female: "Femenino",
                generateUsers: "Generar Usuarios Aleatorios",
                generating: "Generando...",
                exportJSON: "Exportar como JSON",
                exportCSV: "Exportar como CSV",
                advertisement: "Publicidad",
                footerCopyright: "&copy; 2025 RandomUserTools.com | Powered by <a href='https://randomuser.me' target='_blank'>RandomUser.me API</a>",
                footerDescription: "Generador gratuito de datos de usuarios aleatorios para desarrolladores y testers",
                phoneLabel: "TelÃ©fono:",
                cellLabel: "MÃ³vil:",
                dobLabel: "Fecha de Nacimiento:",
                ageLabel: "Edad:",
                addressLabel: "DirecciÃ³n:",
                usernameLabel: "Usuario:",
                nationalityLabel: "Nacionalidad:",
                errorGenerate: "Error al generar usuarios:"
            }
            // å¯ä»¥ç»§ç»­æ·»åŠ å…¶ä»–è¯­è¨€...
        };
        
        let currentUsers = [];
        let currentLanguage = 'en';
        
        // æ£€æµ‹ç”¨æˆ·é¦–é€‰è¯­è¨€
        function detectUserLanguage() {
            // 1. æ£€æŸ¥URLå‚æ•°
            const urlParams = new URLSearchParams(window.location.search);
            const langParam = urlParams.get('lang');
            if (langParam && translations[langParam]) {
                return langParam;
            }
            
            // 2. æ£€æŸ¥localStorage
            const savedLang = localStorage.getItem('preferredLanguage');
            if (savedLang && translations[savedLang]) {
                return savedLang;
            }
            
            // 3. æ£€æµ‹æµè§ˆå™¨è¯­è¨€
            const browserLang = navigator.language || navigator.userLanguage;
            const langCode = browserLang.split('-')[0];
            
            // æ ¹æ®å¸¸è§å›½å®¶IPå¯¹åº”è¯­è¨€ (ç®€åŒ–ç‰ˆ)
            const ipLanguageMap = {
                'zh': ['CN', 'TW', 'HK', 'SG'], // ä¸­æ–‡åœ°åŒº
                'es': ['ES', 'MX', 'AR', 'CO', 'CL'], // è¥¿ç­ç‰™è¯­åœ°åŒº
                'fr': ['FR', 'CA', 'BE', 'CH'], // æ³•è¯­åœ°åŒº
                'de': ['DE', 'AT', 'CH'], // å¾·è¯­åœ°åŒº
                'ja': ['JP'], // æ—¥è¯­åœ°åŒº
                'ko': ['KR'], // éŸ©è¯­åœ°åŒº
                'pt': ['BR', 'PT'], // è‘¡è„ç‰™è¯­åœ°åŒº
                'ru': ['RU', 'BY', 'KZ'], // ä¿„è¯­åœ°åŒº
                'ar': ['SA', 'AE', 'EG', 'MA'] // é˜¿æ‹‰ä¼¯è¯­åœ°åŒº
            };
            
            // å¦‚æœæœ‰ç¿»è¯‘æ”¯æŒï¼Œè¿”å›å¯¹åº”è¯­è¨€
            if (translations[langCode]) {
                return langCode;
            }
            
            // é»˜è®¤è¿”å›è‹±è¯­
            return 'en';
        }
        
        // æ›´æ”¹è¯­è¨€
        function changeLanguage() {
            const newLang = document.getElementById('language-select').value;
            currentLanguage = newLang;
            localStorage.setItem('preferredLanguage', newLang);
            updatePageLanguage();
            
            // æ›´æ–°URLå‚æ•°
            const url = new URL(window.location);
            url.searchParams.set('lang', newLang);
            window.history.replaceState({}, '', url);
        }
        
        // æ›´æ–°é¡µé¢è¯­è¨€
        function updatePageLanguage() {
            const t = translations[currentLanguage];
            document.getElementById('html-root').lang = currentLanguage;
            
            // æ›´æ–°æ‰€æœ‰å¸¦æœ‰ data-translate å±æ€§çš„å…ƒç´ 
            document.querySelectorAll('[data-translate]').forEach(element => {
                const key = element.getAttribute('data-translate');
                if (t[key]) {
                    if (element.innerHTML.includes('<a')) {
                        element.innerHTML = t[key];
                    } else {
                        element.textContent = t[key];
                    }
                }
            });
            
            // æ›´æ–°é¡µé¢æ ‡é¢˜
            document.title = `${t.title} - Free Testing Data Tool | RandomUserTools.com`;
            
            // æ›´æ–°metaæè¿°
            const metaDesc = document.querySelector('meta[name="description"]');
            if (metaDesc && currentLanguage === 'zh') {
                metaDesc.content = "ç”Ÿæˆéšæœºç”¨æˆ·æ•°æ®ç”¨äºæµ‹è¯•å’Œå¼€å‘ã€‚å…è´¹çš„éšæœºç”¨æˆ·ç”Ÿæˆå™¨APIå·¥å…·ï¼Œå¯è‡ªå®šä¹‰é€‰é¡¹ã€‚";
            } else if (metaDesc && currentLanguage === 'es') {
                metaDesc.content = "Genera datos de usuarios aleatorios para pruebas y desarrollo. Herramienta API gratuita de generador de usuarios aleatorios con opciones personalizables.";
            }
        }
        
        async function generateUsers() {
            const generateBtn = document.querySelector('.generate-btn');
            const resultsDiv = document.getElementById('results');
            const usersContainer = document.getElementById('users-container');
            const t = translations[currentLanguage];
            
            // Get form values
            const count = document.getElementById('results-count').value;
            const gender = document.getElementById('gender').value;
            const nationality = document.getElementById('nationality').value;
            const includeFields = Array.from(document.querySelectorAll('.field-item input[type="checkbox"]:checked')).map(checkbox => {
                return checkbox.id.replace('field-', '');
            });
            
            // Build API URL with seed for consistency
            const seed = Date.now().toString(); // ä½¿ç”¨æ—¶é—´æˆ³ä½œä¸ºç§å­ç¡®ä¿ä¸€è‡´æ€§
            let apiUrl = `https://randomuser.me/api/?results=${count}&seed=${seed}`;
            if (gender) apiUrl += `&gender=${gender}`;
            if (nationality) apiUrl += `&nat=${nationality}`;
            if (includeFields.length > 0) apiUrl += `&inc=${includeFields.join(',')}`;
            
            // Show loading state
            generateBtn.textContent = t.generating;
            generateBtn.classList.add('loading');
            
            try {
                const response = await fetch(apiUrl);
                if (!response.ok) throw new Error('API request failed');
                
                const data = await response.json();
                
                // æ•°æ®ä¸€è‡´æ€§å¤„ç†
                const processedUsers = data.results.map(user => processUserData(user, nationality));
                currentUsers = processedUsers;
                
                displayUsers(currentUsers);
                resultsDiv.style.display = 'block';
                
            } catch (error) {
                usersContainer.innerHTML = `<div class="error">${t.errorGenerate} ${error.message}</div>`;
                resultsDiv.style.display = 'block';
            } finally {
                generateBtn.textContent = t.generateUsers;
                generateBtn.classList.remove('loading');
            }
        }
        
        // å¤„ç†ç”¨æˆ·æ•°æ®ï¼Œç¡®ä¿ä¸€è‡´æ€§
        function processUserData(user, selectedNationality) {
            // å¦‚æœæŒ‡å®šäº†å›½ç±ï¼Œç¡®ä¿æ•°æ®æ ¼å¼ä¸€è‡´
            if (selectedNationality && user.location) {
                const countryMap = {
                    'US': { country: 'United States', phoneFormat: '(###) ###-####' },
                    'GB': { country: 'United Kingdom', phoneFormat: '0#### ######' },
                    'CA': { country: 'Canada', phoneFormat: '(###) ###-####' },
                    'AU': { country: 'Australia', phoneFormat: '0# #### ####' },
                    'DE': { country: 'Germany', phoneFormat: '0### #######' },
                    'FR': { country: 'France', phoneFormat: '0# ## ## ## ##' },
                    'ES': { country: 'Spain', phoneFormat: '### ### ###' },
                    'IT': { country: 'Italy', phoneFormat: '### ### ####' },
                    'NL': { country: 'Netherlands', phoneFormat: '0# ########' },
                    'BR': { country: 'Brazil', phoneFormat: '(##) #####-####' },
                    'MX': { country: 'Mexico', phoneFormat: '(###) ###-####' },
                    'IN': { country: 'India', phoneFormat: '+91 ##### #####' },
                    'CN': { country: 'China', phoneFormat: '1## #### ####' },
                    'JP': { country: 'Japan', phoneFormat: '0##-####-####' },
                    'KR': { country: 'South Korea', phoneFormat: '0##-####-####' }
                };
                
                if (countryMap[selectedNationality]) {
                    user.location.country = countryMap[selectedNationality].country;
                    user.nat = selectedNationality;
                    
                    // ç”Ÿæˆç¬¦åˆè¯¥å›½æ ¼å¼çš„ç”µè¯å·ç 
                    user.phone = generatePhoneNumber(countryMap[selectedNationality].phoneFormat);
                    user.cell = generatePhoneNumber(countryMap[selectedNationality].phoneFormat);
                }
            }
            
            // å¹´é¾„ä¸€è‡´æ€§æ£€æŸ¥ï¼šåŸºäºå¤´åƒè°ƒæ•´å¹´é¾„èŒƒå›´
            if (user.dob && user.picture) {
                const currentAge = user.dob.age;
                // å¦‚æœå¹´é¾„çœ‹èµ·æ¥ä¸åˆç†ï¼ˆæ¯”å¦‚å¤´åƒçœ‹èµ·æ¥å¾ˆå¹´è½»ä½†å¹´é¾„å¾ˆå¤§ï¼‰ï¼Œè¿›è¡Œè°ƒæ•´
                if (currentAge > 60) {
                    // å¯¹äºçœ‹èµ·æ¥è¾ƒè€çš„ç”¨æˆ·ï¼Œä¿æŒåŸå¹´é¾„
                    // è¿™é‡Œå¯ä»¥æ ¹æ®å®é™…éœ€è¦è¿›ä¸€æ­¥ä¼˜åŒ–
                } else if (currentAge < 18) {
                    // ç¡®ä¿æ‰€æœ‰ç”¨æˆ·éƒ½æ˜¯æˆå¹´äºº
                    const newAge = 18 + Math.floor(Math.random() * 10); // 18-27å²
                    const newBirthYear = new Date().getFullYear() - newAge;
                    const newBirthDate = new Date(newBirthYear, Math.floor(Math.random() * 12), Math.floor(Math.random() * 28) + 1);
                    user.dob.age = newAge;
                    user.dob.date = newBirthDate.toISOString();
                }
            }
            
            // æ¸…ç†å’Œæ ¼å¼åŒ–åœ°å€ä¿¡æ¯
            if (user.location && user.location.street) {
                // ç¡®ä¿è¡—é“å·ç æ˜¯åˆç†çš„
                if (!user.location.street.number || user.location.street.number > 9999) {
                    user.location.street.number = Math.floor(Math.random() * 9999) + 1;
                }
            }
            
            return user;
        }
        
        // ç”Ÿæˆç¬¦åˆæŒ‡å®šæ ¼å¼çš„ç”µè¯å·ç 
        function generatePhoneNumber(format) {
            return format.replace(/#/g, () => Math.floor(Math.random() * 10));
        }
        
        function displayUsers(users) {
            const container = document.getElementById('users-container');
            const t = translations[currentLanguage];
            container.innerHTML = '';
            
            users.forEach(user => {
                const userCard = createUserCard(user, t);
                container.appendChild(userCard);
            });
        }
        
        function createUserCard(user, t) {
            const card = document.createElement('div');
            card.className = 'user-card';
            
            const fullName = `${user.name?.title || ''} ${user.name?.first || ''} ${user.name?.last || ''}`.trim();
            
            // æ”¹è¿›çš„åœ°å€æ ¼å¼åŒ–
            let address = '';
            if (user.location) {
                const parts = [];
                if (user.location.street?.number && user.location.street?.name) {
                    parts.push(`${user.location.street.number} ${user.location.street.name}`);
                }
                if (user.location.city) parts.push(user.location.city);
                if (user.location.state) parts.push(user.location.state);
                if (user.location.postcode) parts.push(user.location.postcode);
                if (user.location.country) parts.push(user.location.country);
                address = parts.join(', ');
            }
            
            // æ”¹è¿›çš„æ—¥æœŸæ ¼å¼åŒ–
            const formatDate = (dateString) => {
                const date = new Date(dateString);
                const options = { 
                    year: 'numeric', 
                    month: 'long', 
                    day: 'numeric' 
                };
                return date.toLocaleDateString(getLocaleFromLanguage(currentLanguage), options);
            };
            
            card.innerHTML = `
                <div class="user-header">
                    ${user.picture?.large ? `<img src="${user.picture.large}" alt="User Avatar" class="user-avatar" loading="lazy">` : ''}
                    <div>
                        <div class="user-name">${fullName}</div>
                        ${user.email ? `<div class="user-email">${user.email}</div>` : ''}
                    </div>
                </div>
                <div class="user-details">
                    ${user.phone ? `<div class="detail-item"><span class="detail-label">${t.phoneLabel}</span><span class="detail-value">${user.phone}</span></div>` : ''}
                    ${user.cell ? `<div class="detail-item"><span class="detail-label">${t.cellLabel}</span><span class="detail-value">${user.cell}</span></div>` : ''}
                    ${user.dob?.date ? `<div class="detail-item"><span class="detail-label">${t.dobLabel}</span><span class="detail-value">${formatDate(user.dob.date)}</span></div>` : ''}
                    ${user.dob?.age ? `<div class="detail-item"><span class="detail-label">${t.ageLabel}</span><span class="detail-value">${user.dob.age} ${getAgeUnit(currentLanguage)}</span></div>` : ''}
                    ${address ? `<div class="detail-item"><span class="detail-label">${t.addressLabel}</span><span class="detail-value">${address}</span></div>` : ''}
                    ${user.login?.username ? `<div class="detail-item"><span class="detail-label">${t.usernameLabel}</span><span class="detail-value">${user.login.username}</span></div>` : ''}
                    ${user.id?.name && user.id?.value ? `<div class="detail-item"><span class="detail-label">${user.id.name}:</span><span class="detail-value">${user.id.value}</span></div>` : ''}
                    ${user.nat ? `<div class="detail-item"><span class="detail-label">${t.nationalityLabel}</span><span class="detail-value">${getNationalityName(user.nat, currentLanguage)}</span></div>` : ''}
                </div>
            `;
            
            return card;
        }
        
        // æ ¹æ®è¯­è¨€è·å–locale
        function getLocaleFromLanguage(lang) {
            const localeMap = {
                'en': 'en-US',
                'zh': 'zh-CN',
                'es': 'es-ES',
                'fr': 'fr-FR',
                'de': 'de-DE',
                'ja': 'ja-JP',
                'ko': 'ko-KR',
                'pt': 'pt-BR',
                'ru': 'ru-RU',
                'ar': 'ar-SA'
            };
            return localeMap[lang] || 'en-US';
        }
        
        // è·å–å¹´é¾„å•ä½
        function getAgeUnit(lang) {
            const ageUnits = {
                'en': 'years old',
                'zh': 'å²',
                'es': 'aÃ±os',
                'fr': 'ans',
                'de': 'Jahre alt',
                'ja': 'æ­³',
                'ko': 'ì„¸',
                'pt': 'anos',
                'ru': 'Ğ»ĞµÑ‚',
                'ar': 'Ø³Ù†Ø©'
            };
            return ageUnits[lang] || 'years old';
        }
        
        // è·å–å›½ç±å…¨ç§°
        function getNationalityName(natCode, lang) {
            const nationalityNames = {
                'en': {
                    'AU': 'Australian', 'BR': 'Brazilian', 'CA': 'Canadian', 'CH': 'Swiss',
                    'DE': 'German', 'DK': 'Danish', 'ES': 'Spanish', 'FI': 'Finnish',
                    'FR': 'French', 'GB': 'British', 'IE': 'Irish', 'IN': 'Indian',
                    'IR': 'Iranian', 'MX': 'Mexican', 'NL': 'Dutch', 'NO': 'Norwegian',
                    'NZ': 'New Zealand', 'RS': 'Serbian', 'TR': 'Turkish', 'UA': 'Ukrainian',
                    'US': 'American'
                },
                'zh': {
                    'AU': 'æ¾³å¤§åˆ©äºš', 'BR': 'å·´è¥¿', 'CA': 'åŠ æ‹¿å¤§', 'CH': 'ç‘å£«',
                    'DE': 'å¾·å›½', 'DK': 'ä¸¹éº¦', 'ES': 'è¥¿ç­ç‰™', 'FI': 'èŠ¬å…°',
                    'FR': 'æ³•å›½', 'GB': 'è‹±å›½', 'IE': 'çˆ±å°”å…°', 'IN': 'å°åº¦',
                    'IR': 'ä¼Šæœ—', 'MX': 'å¢¨è¥¿å“¥', 'NL': 'è·å…°', 'NO': 'æŒªå¨',
                    'NZ': 'æ–°è¥¿å…°', 'RS': 'å¡å°”ç»´äºš', 'TR': 'åœŸè€³å…¶', 'UA': 'ä¹Œå…‹å…°',
                    'US': 'ç¾å›½'
                },
                'es': {
                    'AU': 'Australiano', 'BR': 'BrasileÃ±o', 'CA': 'Canadiense', 'CH': 'Suizo',
                    'DE': 'AlemÃ¡n', 'DK': 'DanÃ©s', 'ES': 'EspaÃ±ol', 'FI': 'FinlandÃ©s',
                    'FR': 'FrancÃ©s', 'GB': 'BritÃ¡nico', 'IE': 'IrlandÃ©s', 'IN': 'Indio',
                    'IR': 'IranÃ­', 'MX': 'Mexicano', 'NL': 'HolandÃ©s', 'NO': 'Noruego',
                    'NZ': 'NeozelandÃ©s', 'RS': 'Serbio', 'TR': 'Turco', 'UA': 'Ucraniano',
                    'US': 'Estadounidense'
                }
            };
            
            return nationalityNames[lang]?.[natCode] || natCode;
        }
        
        function exportJSON() {
            const dataStr = JSON.stringify(currentUsers, null, 2);
            downloadFile(dataStr, 'random-users.json', 'application/json');
        }
        
        function exportCSV() {
            if (currentUsers.length === 0) return;
            const t = translations[currentLanguage];
            
            const headers = [t.name, 'Email', t.phone, 'Cell', t.dateOfBirth, t.ageLabel.replace(':', ''), t.location, t.usernameLabel.replace(':', ''), t.nationalityLabel.replace(':', '')];
            const csvData = [headers.join(',')];
            
            currentUsers.forEach(user => {
                const row = [
                    `${user.name?.title || ''} ${user.name?.first || ''} ${user.name?.last || ''}`.trim(),
                    user.email || '',
                    user.phone || '',
                    user.cell || '',
                    user.dob?.date ? new Date(user.dob.date).toLocaleDateString() : '',
                    user.dob?.age || '',
                    `${user.location?.street?.number || ''} ${user.location?.street?.name || ''}, ${user.location?.city || ''}, ${user.location?.state || ''} ${user.location?.postcode || ''}, ${user.location?.country || ''}`.replace(/,\s*,/g, ',').replace(/^,\s*|,\s*$/g, ''),
                    user.login?.username || '',
                    user.nat || ''
                ].map(field => `"${field.toString().replace(/"/g, '""')}"`);
                
                csvData.push(row.join(','));
            });
            
            downloadFile(csvData.join('\n'), 'random-users.csv', 'text/csv');
        }
        
        function downloadFile(content, filename, contentType) {
            const blob = new Blob([content], { type: contentType });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = filename;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);
        }
        
        // åˆå§‹åŒ–åº”ç”¨
        window.addEventListener('load', () => {
            // æ£€æµ‹å¹¶è®¾ç½®è¯­è¨€
            currentLanguage = detectUserLanguage();
            document.getElementById('language-select').value = currentLanguage;
            updatePageLanguage();
            
            // ç”Ÿæˆé»˜è®¤ç”¨æˆ·
            generateUsers();
            
            // åˆå§‹åŒ–å¹¿å‘Š
            if (typeof adsbygoogle !== 'undefined') {
                (adsbygoogle = window.adsbygoogle || []).push({});
                (adsbygoogle = window.adsbygoogle || []).push({});
                (adsbygoogle = window.adsbygoogle || []).push({});
            }
        });
    </script>
</body>
</html>
